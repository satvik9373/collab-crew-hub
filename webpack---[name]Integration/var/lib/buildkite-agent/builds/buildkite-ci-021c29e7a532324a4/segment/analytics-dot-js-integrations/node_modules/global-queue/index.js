/**
 * Module dependencies.
 */

var debug = require('debug');

/**
 * Expose `generate`.
 */

module.exports = generate;

/**
 * Generate a global queue pushing method with `name`.
 *
 * @param {String} name
 * @param {Object} options
 *   @property {Boolean} wrap
 * @return {Function}
 */

function generate(name, options) {
    var log = debug('global-queue:' + name);
    options = options || {};

    return function(args) {
        args = [].slice.call(arguments);
        window[name] || (window[name] = []);
        log('%o', args);
        options.wrap === false ?
            window[name].push.apply(window[name], args) :
            window[name].push(args);
    };
}